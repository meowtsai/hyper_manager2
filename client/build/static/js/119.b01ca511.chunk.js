(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{1106:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(649),c=a(166),m=a(3),i=a.n(m),s=a(129),u=a(153),o=a(154),E=a(151),p=a(152),d=a(165),b=a(176),g=a(174),f=a(177),v=a(175),h=a(150),N=a(53),w=a(433),O=a(7),j=a.n(O);t.default=function(){var e=Object(m.useState)(""),t=Object(c.a)(e,2),a=t[0],l=t[1],O=Object(m.useState)([]),I=Object(c.a)(O,2),x=I[0],y=I[1],k=Object(m.useState)({}),S=Object(c.a)(k,2),C=S[0],D=S[1],F=Object(m.useState)(!1),J=Object(c.a)(F,2),_=J[0],A=J[1],H=Object(m.useState)({}),L=Object(c.a)(H,2),R=L[0],T=L[1],V=Object(m.useState)({gameId:"",gameName:""}),q=Object(c.a)(V,2),z=q[0],B=q[1],G=function(){var e=Object(r.a)(n.a.mark(function e(t){var r,c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=new FormData,""!==a&&(console.log("file01",a[0]),r.append("site",z.gameId),r.append("vipList",a[0])),A(!0),j.a.defaults.timeout=18e4,e.prev=5,e.next=8,j.a.post("/api/vip_upload",r);case 8:c=e.sent,A(!1),T(c.data),y([]),l(""),B({gameId:"",gameName:""}),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0),D({msg:e.t0}),A(!1);case 21:case"end":return e.stop()}},e,null,[[5,16]])}));return function(t){return e.apply(this,arguments)}}();return _?i.a.createElement(w.a,null):i.a.createElement(m.Fragment,null,i.a.createElement(s.a,{breadCrumbItems:[{label:"\u9be8\u9b5a\u7528\u6236\u540d\u55ae\u4e0a\u50b3",path:"/vip/upload",active:!1}],title:"\u9be8\u9b5a\u7528\u6236\u540d\u55ae\u4e0a\u50b3"}),i.a.createElement(u.a,{className:"mb-2"},i.a.createElement(o.a,{lg:4},i.a.createElement(E.a,null,i.a.createElement(p.a,null,i.a.createElement("h4",{className:"mb-3 header-title"},"\u4e0a\u50b3\u65b0\u540d\u55ae"),C.msg&&i.a.createElement(d.a,{color:"danger",isOpen:!!C.msg},i.a.createElement("div",null,C.msg)),i.a.createElement(b.a,null,i.a.createElement(g.a,null,i.a.createElement(f.a,{for:"file01"},"\u76f8\u95dc\u6a94\u68481"),i.a.createElement(v.a,{type:"file",name:"file01",id:"file01",onChange:function(e){l(e.target.files)}})),i.a.createElement(N.b,{className:"btn btn-secondary mr-2",to:"/vip/whale_users"},"\u53d6\u6d88"),i.a.createElement(h.a,{color:"dark mr-2",onClick:function(){if(console.log("preSubmitValidation \u9a57\u8b49\u8cc7\u6599"),""!==a){var e=new FileReader;e.onload=function(e){y([]);var t=e.target.result.split("\n");try{if(t.length>0){var a,l=t[0].split(","),n=!1;l.forEach(function(e,t){if(e.indexOf("@")>-1)if(a=e,1===t)B({gameId:"g66naxx2tw",gameName:"\u660e\u65e5\u4e4b\u5f8c"}),n=isNaN(Number.parseInt(5*l[6].replace("\r","")));else{if(5!==t)throw new Error("\u542b\u6709@\u7b26\u865f\u7684uid\u6b04\u4f4d\u4e0d\u5728\u9810\u671f\u7684\u4f4d\u7f6e");B({gameId:"h55naxx2tw",gameName:"\u7b2c\u4e94\u4eba\u683c"}),n=isNaN(Number.parseInt(l[3]))}if(n)throw new Error("\u5132\u503c\u91d1\u984d\u6b04\u4f4d\u4e0d\u662f\u6578\u503c");if(t===l.length-1&&!a)throw new Error("\u7b2c\u4e00\u5217\u8cc7\u6599\u627e\u4e0d\u5230\u542b\u6709@\u7b26\u865f\u7684uid\u6b04\u4f4d ")})}y(t),D({})}catch(r){D({msg:r+"- \u7121\u6cd5\u89e3\u6790\u6a94\u6848"})}},e.readAsText(a[0])}}},"\u9a57\u8b49\u8cc7\u6599"))))),i.a.createElement(o.a,{lg:8},R.msg&&i.a.createElement(d.a,{color:"success",isOpen:!!R.msg},i.a.createElement("div",null,R.msg)),x.length>0&&!C.msg&&i.a.createElement(h.a,{color:"primary",type:"submit",onClick:G},"\u532f\u5165\u540d\u55ae(",z.gameName,")"),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u5e33\u865f"),i.a.createElement("th",null,"\u66b1\u7a31"),i.a.createElement("th",null,"\u89d2\u8272ID"),i.a.createElement("th",null,"\u4f3a\u670d\u5668"),i.a.createElement("th",null,"\u5132\u503c\u7e3d\u984d"),i.a.createElement("th",null,"\u6700\u5f8c\u767b\u5165"))),i.a.createElement("tbody",null,x.slice(0,10).map(function(e){return e.length>0?i.a.createElement("tr",null,i.a.createElement("td",null,e.split(",")[1].split("@")[0]),i.a.createElement("td",null,e.split(",")[3]),i.a.createElement("td",null,e.split(",")[7]),i.a.createElement("td",null,e.split(",")[0]),i.a.createElement("td",null,Number.parseInt(5*e.split(",")[6].replace("\r",""))),i.a.createElement("td",null,e.split(",")[5])):null}))))))}},129:function(e,t,a){"use strict";var l=a(3),n=a.n(l),r=a(53),c=a(153),m=a(154),i=a(148),s=a(149);a(43);t.a=function(e){return n.a.createElement(c.a,null,n.a.createElement(m.a,null,n.a.createElement("div",{className:"page-title-box"},n.a.createElement("div",{className:"page-title-right"},n.a.createElement(i.a,null,n.a.createElement(s.a,null,n.a.createElement(r.b,{to:"/"},"Hyper")),e.breadCrumbItems.map(function(e,t){return e.active?n.a.createElement(s.a,{active:!0,key:t},e.label):n.a.createElement(s.a,{key:t},n.a.createElement(r.b,{to:e.path},e.label))}))),n.a.createElement("h4",{className:"page-title"},e.title))))}},433:function(e,t,a){"use strict";var l=a(3),n=a.n(l);t.a=function(){return n.a.createElement("div",{className:"preloader"},n.a.createElement("div",{className:"status"},n.a.createElement("div",{className:"bouncing-loader"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))))}}}]);
//# sourceMappingURL=119.b01ca511.chunk.js.map