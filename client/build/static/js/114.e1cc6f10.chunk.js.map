{"version":3,"sources":["pages/platform/preset_messages/PresetMessageList.js","pages/platform/preset_messages/index.js","components/PageTitle.js","redux/actions.js"],"names":["PresetMessageList","_ref","list","editClick","deleteClick","react_default","a","createElement","Card","CardBody","Table","hover","responsive","className","map","record","index","key","concat","id","message","ButtonGroup","Button","size","color","onClick","e","connect","state","preset_messages","Platform","loading","error","updateOKMessage","getPresetMessage","editPresetMessage","deletePresetMessage","clearPresetMessageMessage","_useState","useState","_useState2","Object","slicedToArray","errors","setErrors","_useState3","_useState4","modal","setModal","_useState5","_useState6","setMessage","_useState7","_useState8","selectedId","setSelectedId","useEffect","document","title","timeOutId","undefined","setTimeout","clearTimeout","react","PageTitle","breadCrumbItems","label","path","active","Row","Col","sm","Alert","isOpen","lg","preset_messages_PresetMessageList","selectedRecord","filter","re","window","confirm","Modal","toggle","ModalHeader","ModalBody","FormGroup","Label","for","Input","type","name","rows","value","onChange","target","placeholder","invalid","FormFeedback","ModalFooter","rank","objectSpread","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","props","to","item","_auth_actions__WEBPACK_IMPORTED_MODULE_0__","d","__webpack_exports__","_layout_actions__WEBPACK_IMPORTED_MODULE_1__","_appMenu_actions__WEBPACK_IMPORTED_MODULE_2__","_dashboard_actions__WEBPACK_IMPORTED_MODULE_3__","_platform_actions__WEBPACK_IMPORTED_MODULE_4__","_offlinecs_actions__WEBPACK_IMPORTED_MODULE_5__","_games_actions__WEBPACK_IMPORTED_MODULE_6__","_servers_actions__WEBPACK_IMPORTED_MODULE_7__","_adminUsers_actions__WEBPACK_IMPORTED_MODULE_8__","_serviceAllocate_actions__WEBPACK_IMPORTED_MODULE_9__","_service_actions__WEBPACK_IMPORTED_MODULE_10__","_vip_actions__WEBPACK_IMPORTED_MODULE_11__","_vipoffers_actions__WEBPACK_IMPORTED_MODULE_12__","_batch_actions__WEBPACK_IMPORTED_MODULE_13__"],"mappings":"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","file":"static/js/114.e1cc6f10.chunk.js","sourcesContent":["// @flow\r\nimport React from \"react\";\r\nimport { Card, CardBody, Table, ButtonGroup, Button } from \"reactstrap\";\r\n\r\nconst PresetMessageList = ({ list, editClick, deleteClick }) => {\r\n  return (\r\n    <Card>\r\n      <CardBody>\r\n        <Table\r\n          hover\r\n          responsive\r\n          className=\"table-striped table-sm table-centered mb-0 table-nowrap\"\r\n        >\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>訊息內容</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {list.map((record, index) => {\r\n              return (\r\n                <tr key={`pma_${record.id}`}>\r\n                  <td>{record.id}</td>\r\n                  <td>{record.message}</td>\r\n                  <td>\r\n                    <ButtonGroup>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        color=\"secondary\"\r\n                        className=\"btn-icon\"\r\n                        onClick={e => editClick(record.id)}\r\n                      >\r\n                        <i className=\"mdi mdi-square-edit-outline\"></i>\r\n                      </Button>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        color=\"danger\"\r\n                        className=\"btn-icon\"\r\n                        onClick={e => deleteClick(record.id)}\r\n                      >\r\n                        <i className=\"mdi mdi-trash-can-outline\"></i>\r\n                      </Button>\r\n                    </ButtonGroup>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </Table>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PresetMessageList;\r\n","import React, { Fragment, useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PageTitle from \"../../../components/PageTitle\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  FormFeedback,\r\n  Alert\r\n} from \"reactstrap\";\r\nimport {\r\n  getPresetMessage,\r\n  editPresetMessage,\r\n  deletePresetMessage,\r\n  clearPresetMessageMessage\r\n} from \"../../../redux/actions\";\r\nimport PresetMessageList from \"./PresetMessageList\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PresetMessageHome = ({\r\n  preset_messages,\r\n  getPresetMessage,\r\n  updateOKMessage,\r\n  editPresetMessage,\r\n  deletePresetMessage,\r\n  loading,\r\n  clearPresetMessageMessage,\r\n  error\r\n}) => {\r\n  const [errors, setErrors] = useState({});\r\n  const [modal, setModal] = useState(false);\r\n  const [message, setMessage] = useState({});\r\n  const [selectedId, setSelectedId] = useState(null);\r\n  useEffect(() => {\r\n    getPresetMessage();\r\n    document.title = \"自訂快選回覆\";\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setErrors(error);\r\n    } else {\r\n      setErrors({});\r\n    }\r\n  }, [error]);\r\n\r\n  useEffect(() => {\r\n    setModal(false);\r\n    let timeOutId;\r\n    if (updateOKMessage !== undefined && updateOKMessage !== null) {\r\n      timeOutId = setTimeout(() => {\r\n        setSelectedId(null);\r\n        setMessage(\"\");\r\n        clearPresetMessageMessage();\r\n      }, 2000);\r\n    }\r\n    return () => {\r\n      clearTimeout(timeOutId);\r\n    };\r\n  }, [updateOKMessage]);\r\n\r\n  const confirmUpdate = () => {\r\n    if (message === \"\") {\r\n      setErrors({ ...errors, message: \"請填寫訊息內容\" });\r\n      return;\r\n    }\r\n\r\n    if (!selectedId) {\r\n      editPresetMessage({ message, rank: 1 });\r\n    } else {\r\n      editPresetMessage({ id: selectedId, message, rank: 1 });\r\n    }\r\n  };\r\n  const onAddNew = () => {\r\n    setModal(true);\r\n    setSelectedId(null);\r\n    setMessage(\"\");\r\n  };\r\n\r\n  const onEditClick = id => {\r\n    //console.log(\"onEditClick\");\r\n    setModal(true);\r\n    const selectedRecord = preset_messages.filter(re => re.id === id)[0];\r\n\r\n    setSelectedId(id);\r\n    setMessage(selectedRecord.message);\r\n\r\n    //\r\n  };\r\n\r\n  const onDeleteClick = id => {\r\n    const deleteOk = window.confirm(\"確定要刪除這筆嗎?\");\r\n    if (deleteOk) {\r\n      deletePresetMessage(id);\r\n      //deleteCplCaseReply(reply_id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <PageTitle\r\n        breadCrumbItems={[\r\n          {\r\n            label: \"自訂快選回覆\",\r\n            path: \"/platform/preset_messages\",\r\n            active: true\r\n          }\r\n        ]}\r\n        title={\"自訂快選回覆\"}\r\n      />\r\n      <Row className=\"mb-2\">\r\n        <Col sm={4}>\r\n          <Button\r\n            onClick={onAddNew}\r\n            className=\"btn btn-rounded btn-danger mb-3\"\r\n          >\r\n            <i className=\"mdi mdi-plus-circle mr-2\" /> 新增\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      <Row className=\"mb-2\">\r\n        <Col sm={6}>\r\n          {error && (\r\n            <Alert color=\"danger\" isOpen={error ? true : false}>\r\n              <div>{error}</div>\r\n            </Alert>\r\n          )}\r\n\r\n          {updateOKMessage && (\r\n            <Alert color=\"success\" isOpen={updateOKMessage ? true : false}>\r\n              <div>{updateOKMessage}</div>\r\n            </Alert>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n      <Row className=\"mb-2\">\r\n        <Col lg={12}>\r\n          <PresetMessageList\r\n            list={preset_messages}\r\n            editClick={onEditClick}\r\n            deleteClick={onDeleteClick}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row className=\"mb-2\">\r\n        <Col lg={12}>\r\n          <Modal isOpen={modal} toggle={e => setModal(!modal)}>\r\n            <ModalHeader toggle={e => setModal(!modal)}>編輯</ModalHeader>\r\n            <ModalBody>\r\n              <Card className=\"border p-1 mt-2 mb-1 rounded font-13 bg-light\">\r\n                <CardBody>\r\n                  <h5>編輯訊息</h5>\r\n\r\n                  <FormGroup>\r\n                    <Label for=\"txtUpdNote\">訊息</Label>\r\n                    <Input\r\n                      type=\"textarea\"\r\n                      name=\"txtUpdNote\"\r\n                      id=\"txtUpdNote\"\r\n                      rows=\"5\"\r\n                      value={message}\r\n                      onChange={e => setMessage(e.target.value)}\r\n                      placeholder=\"自訂快選回覆\"\r\n                      invalid={errors.message ? true : false}\r\n                    />\r\n\r\n                    <FormFeedback>{errors.message}</FormFeedback>\r\n                  </FormGroup>\r\n                </CardBody>\r\n              </Card>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <Button\r\n                color=\"secondary\"\r\n                className=\"sm\"\r\n                onClick={e => setModal(!modal)}\r\n              >\r\n                取消\r\n              </Button>\r\n              <Button color=\"primary\" onClick={e => confirmUpdate()}>\r\n                確認修改\r\n              </Button>{\" \"}\r\n            </ModalFooter>\r\n          </Modal>\r\n        </Col>\r\n      </Row>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nPresetMessageHome.propTypes = {\r\n  getPresetMessage: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  preset_messages: state.Platform.preset_messages,\r\n  loading: state.Platform.loading,\r\n  error: state.Platform.error,\r\n  updateOKMessage: state.Platform.updateOKMessage\r\n});\r\nexport default connect(mapStateToProps, {\r\n  getPresetMessage,\r\n  editPresetMessage,\r\n  deletePresetMessage,\r\n  clearPresetMessageMessage\r\n})(PresetMessageHome);\r\n","// @flow\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Breadcrumb, BreadcrumbItem } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\ntype PageTitleProps = {\n    breadCrumbItems: PropTypes.object,\n    title: string,\n};\n\n/**\n * PageTitle\n */\nconst PageTitle = (props: PageTitleProps) => {\n    return (\n        <Row>\n            <Col>\n                <div className=\"page-title-box\">\n                    <div className=\"page-title-right\">\n                        <Breadcrumb>\n                            <BreadcrumbItem>\n                                <Link to=\"/\">Hyper</Link>\n                            </BreadcrumbItem>\n                            {props.breadCrumbItems.map((item, index) => {\n                                return item.active ? (\n                                    <BreadcrumbItem active key={index}>\n                                        {item.label}\n                                    </BreadcrumbItem>\n                                ) : (\n                                    <BreadcrumbItem key={index}>\n                                        <Link to={item.path}>{item.label}</Link>\n                                    </BreadcrumbItem>\n                                );\n                            })}\n                        </Breadcrumb>\n                    </div>\n                    <h4 className=\"page-title\">{props.title}</h4>\n                </div>\n            </Col>\n        </Row>\n    );\n};\n\nexport default PageTitle;\n","export * from \"./auth/actions\";\nexport * from \"./layout/actions\";\nexport * from \"./appMenu/actions\";\nexport * from \"./dashboard/actions\";\nexport * from \"./platform/actions\";\nexport * from \"./offlinecs/actions\";\nexport * from \"./games/actions\";\nexport * from \"./servers/actions\";\nexport * from \"./adminUsers/actions\";\nexport * from \"./serviceAllocate/actions\";\nexport * from \"./service/actions\";\nexport * from \"./vip/actions\";\nexport * from \"./vipoffers/actions\";\nexport * from \"./batch/actions\";\n"],"sourceRoot":""}