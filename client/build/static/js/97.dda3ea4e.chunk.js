(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{1047:function(e,t,n){"use strict";n.r(t);var a=n(68),r=n(3),l=n(22),c=n(208),u=n(2),m=n.n(u),i=n(49),o=n(482),d=n(147),s=n(148),f=n(183),E=n(184),b=n(190),g=n(182),v=n(219),h=n(207),p=n(158),y=n(159),N=n(186),S=n(154),_=n(126),k=n(258);t.default=Object(i.b)(function(e){return{antsHandleData:e.Service.antsHandleData,csHandleData:e.Service.csHandleData,qCountData:e.Service.qCountData,allgames:e.Service.allgames,loading:e.Service.loading,error:e.Service.error}},{getServiceStatistics:S.F})(function(e){var t=e.getServiceStatistics,n=e.antsHandleData,a=e.csHandleData,r=e.qCountData,l=e.loading,i=e.allgames,S=(e.error,Object(u.useState)("g78naxx2hmt")),O=Object(c.a)(S,2),D=O[0],w=O[1],C=Object(u.useState)("\u6c7a\u6230\u5e73\u5b89\u4eac"),I=Object(c.a)(C,2),F=I[0],q=I[1],H=Object(u.useState)("".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0"))),x=Object(c.a)(H,2),M=x[0],z=x[1],G=Object(u.useState)("all"),J=Object(c.a)(G,2),L=J[0],T=J[1];Object(u.useEffect)(function(){t(M),document.title="\u5ba2\u670d\u6848\u4ef6\u7d71\u8a08"},[]);if(l)return m.a.createElement(k.a,{className:"m-2",color:"secondary"});var V=[],Y=new Date,A=Y.getMonth(),P=Y.getFullYear();V.push("".concat(P,"-").concat((A+1).toString().padStart(2,"0")));for(var B=0;B<5;B++){var K=P,Q=A-B;Q<=0&&(Q=12-B,K=P-1),V.push("".concat(K,"-").concat(Q.toString().padStart(2,"0")))}return m.a.createElement(u.Fragment,null,m.a.createElement(_.a,{breadCrumbItems:[{label:"\u5ba2\u670d",path:"/service",active:!1},{label:"\u5ba2\u670d\u6848\u4ef6\u7d71\u8a08",path:"/service",active:!0}],title:"\u5ba2\u670d\u6848\u4ef6\u7d71\u8a08"}),m.a.createElement(d.a,{className:"mt-2"},m.a.createElement(s.a,{md:6,sm:6},i.length>0&&m.a.createElement(f.a,{inline:!0,className:"mb-2"},m.a.createElement(E.a,{className:"mb-2 mr-sm-2 mb-sm-0"},m.a.createElement(b.a,{htmlFor:"selGameId",className:"mr-sm-2"},"\u904a\u6232:"),m.a.createElement(g.a,{type:"select",name:"selGameId",id:"selGameId",className:"custom-select",value:D,onChange:function(e){var t;""!==(t=e.target.value)&&void 0!==t&&null!==t&&(w(t),q(i.filter(function(e){return e.game_id===t})[0].game_name))}},m.a.createElement("option",{value:""},"\u9078\u64c7\u904a\u6232..."),i.map(function(e){return m.a.createElement("option",{key:"game-"+e.game_id,value:e.game_id},e.game_name)}))),m.a.createElement(v.a,{className:"btn-group mb-2 ml-3"},m.a.createElement(h.a,{onClick:function(e){return T("all")},color:"all"===L?"danger":"light"},"by \u65e5\u671f + \u4eba\u54e1"),m.a.createElement(h.a,{onClick:function(e){return T("date")},color:"date"===L?"danger":"light"},"by \u65e5\u671f"),m.a.createElement(h.a,{onClick:function(e){return T("user")},color:"user"===L?"danger":"light"},"by \u4eba\u54e1")))),m.a.createElement(s.a,{md:6,sm:6},m.a.createElement(f.a,{inline:!0,className:"mb-2  float-right"},m.a.createElement(E.a,{className:"mb-2 mr-sm-2 mb-sm-0"},m.a.createElement(b.a,{htmlFor:"selMonth",className:"mr-sm-2"},"\u6708\u4efd:"),m.a.createElement(g.a,{type:"select",name:"selMonth",id:"selMonth",className:"custom-select",value:M,onChange:function(e){return z(e.target.value)}},V.map(function(e){return m.a.createElement("option",{key:"yymm-"+e,value:e},e)}))),m.a.createElement(h.a,{color:"primary",className:"mb-2 mr-1",onClick:function(){t(M)}},"\u641c\u5c0b")))),m.a.createElement(d.a,null),m.a.createElement(d.a,{className:"mb-2"},m.a.createElement(s.a,{lg:4},r.length>0&&m.a.createElement(o.CSVLink,{data:r.filter(function(e){return e.game_id===D}),headers:[{label:"\u65e5\u671f",key:"\u6642\u9593"},{label:"\u6578\u91cf",key:"cnt"}],filename:F+M+"\u63d0\u554f\u55ae\u9032\u4ef6\u91cf"+(new Date).getTime()+".csv"},"\u4e0b\u8f09 csv\u6a94\u6848"),r&&m.a.createElement(p.a,null,m.a.createElement(y.a,null,m.a.createElement("h4",{className:"header-title"},F,"-\u63d0\u554f\u55ae\u9032\u4ef6\u91cf"),m.a.createElement(N.a,{className:"mb-0",bordered:!0,size:"sm"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"\u65e5\u671f"),m.a.createElement("th",null,"\u6578\u91cf"))),m.a.createElement("tbody",null,r.filter(function(e){return e.game_id===D}).map(function(e,t){return m.a.createElement("tr",{key:"q_".concat(t)},m.a.createElement("th",null,e.\u6642\u9593),m.a.createElement("td",null,e.cnt))}),m.a.createElement("tr",null,m.a.createElement("th",null,"\u7e3d\u8a08"),m.a.createElement("td",null,r.filter(function(e){return e.game_id===D}).reduce(function(e,t){return e+t.cnt},0)))))))),m.a.createElement(s.a,{lg:4},j(n,"".concat(F,"-\u87fb\u529b\u63d0\u554f\u55ae\u8655\u7406\u91cf"),D,M,L)),m.a.createElement(s.a,{lg:4},j(a,"".concat(F,"-\u5ba2\u670d\u63d0\u554f\u55ae\u8655\u7406\u91cf"),D,M,L))))});var j=function(e,t,n,c,i){var d=e.filter(function(e){return e.game_id===n}).map(function(e){return{dt:e.\u6642\u9593,admin_name:e.admin_name,test_cnt:e.test_cnt,cnt:e.cnt}}),s=[],f="all"===i?"all":"date"===i?"dt":"admin_name",E="all"===i?"\u65e5\u671f":"\u4eba\u54e1",b="all"===f?d:d.reduce(function(e,t){return s.indexOf(t[f])<0?(s.push(t[f]),[].concat(Object(l.a)(e),[Object(r.a)({},t)])):e=e.map(function(e){var n;return e[f]===t[f]?(n={},Object(a.a)(n,f,e[f]),Object(a.a)(n,"test_cnt",Number.parseInt(e.test_cnt)+Number.parseInt(t.test_cnt)),Object(a.a)(n,"cnt",Number.parseInt(e.cnt)+Number.parseInt(t.cnt)),n):e})},[]);return m.a.createElement(u.Fragment,null,m.a.createElement(o.CSVLink,{data:d,headers:[{label:"\u65e5\u671f",key:"dt"},{label:"\u4eba\u54e1",key:"admin_name"},{label:"\u6578\u91cf",key:"cnt"},{label:"\u6e2c\u8a66",key:"test_cnt"}],filename:t+c+(new Date).getTime()+".csv"},"\u4e0b\u8f09 csv\u6a94\u6848"),m.a.createElement(p.a,null,m.a.createElement(y.a,null,m.a.createElement("h4",{className:"header-title"},t," "),m.a.createElement(N.a,{className:"mb-0",bordered:!0,size:"sm"},m.a.createElement("thead",null,m.a.createElement("tr",null,"all"===i?m.a.createElement(u.Fragment,null,m.a.createElement("th",null,"\u65e5\u671f")," ",m.a.createElement("th",null,"\u4eba\u54e1")):m.a.createElement("th",null,E),m.a.createElement("th",null,"\u6578\u91cf"),m.a.createElement("th",null,"\u6e2c\u8a66"))),m.a.createElement("tbody",null,b.map(function(e,t){return m.a.createElement("tr",{key:"q_".concat(t)},"all"===i?m.a.createElement(u.Fragment,null,m.a.createElement("th",null,e.dt)," ",m.a.createElement("th",null,e.admin_name)):m.a.createElement("th",null,e[f]),m.a.createElement("td",null,e.cnt),m.a.createElement("td",null,e.test_cnt))}),m.a.createElement("tr",null,"all"===i?m.a.createElement(u.Fragment,null,m.a.createElement("th",{colSpan:"2"},"\u7e3d\u8a08")):m.a.createElement("th",null,"\u7e3d\u8a08"),m.a.createElement("td",null,b.reduce(function(e,t){return e+Number.parseInt(t.cnt)},0)),m.a.createElement("td",null,b.reduce(function(e,t){return e+Number.parseInt(t.test_cnt)},0))))))))}},126:function(e,t,n){"use strict";var a=n(2),r=n.n(a),l=n(46),c=n(147),u=n(148),m=n(149),i=n(150);n(19);t.a=function(e){return r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement("div",{className:"page-title-box"},r.a.createElement("div",{className:"page-title-right"},r.a.createElement(m.a,null,r.a.createElement(i.a,null,r.a.createElement(l.b,{to:"/"},"Hyper")),e.breadCrumbItems.map(function(e,t){return e.active?r.a.createElement(i.a,{active:!0,key:t},e.label):r.a.createElement(i.a,{key:t},r.a.createElement(l.b,{to:e.path},e.label))}))),r.a.createElement("h4",{className:"page-title"},e.title))))}},154:function(e,t,n){"use strict";var a=n(39);n.d(t,"q",function(){return a.a}),n.d(t,"N",function(){return a.d}),n.d(t,"O",function(){return a.g}),n.d(t,"T",function(){return a.h});var r=n(36);n.d(t,"d",function(){return r.a}),n.d(t,"e",function(){return r.b}),n.d(t,"f",function(){return r.c}),n.d(t,"g",function(){return r.d}),n.d(t,"L",function(){return r.e});var l=n(48);n.d(t,"c",function(){return l.a}),n.d(t,"M",function(){return l.c});var c=n(56);n.d(t,"y",function(){return c.a});var u=n(57);n.d(t,"W",function(){return u.a});var m=n(40);n.d(t,"o",function(){return m.a}),n.d(t,"w",function(){return m.d}),n.d(t,"A",function(){return m.g});var i=n(41);n.d(t,"i",function(){return i.a}),n.d(t,"n",function(){return i.b}),n.d(t,"u",function(){return i.e}),n.d(t,"z",function(){return i.h});var o=n(58);n.d(t,"D",function(){return o.a});var d=n(59);n.d(t,"r",function(){return d.a});var s=n(20);n.d(t,"h",function(){return s.a}),n.d(t,"s",function(){return s.b}),n.d(t,"t",function(){return s.e}),n.d(t,"P",function(){return s.h}),n.d(t,"Q",function(){return s.k}),n.d(t,"S",function(){return s.n}),n.d(t,"V",function(){return s.q});var f=n(17);n.d(t,"b",function(){return f.a}),n.d(t,"j",function(){return f.d}),n.d(t,"l",function(){return f.e}),n.d(t,"v",function(){return f.h}),n.d(t,"B",function(){return f.k}),n.d(t,"C",function(){return f.n}),n.d(t,"E",function(){return f.q}),n.d(t,"F",function(){return f.s}),n.d(t,"U",function(){return f.x}),n.d(t,"X",function(){return f.A}),n.d(t,"Y",function(){return f.D});var E=n(27);n.d(t,"a",function(){return E.a}),n.d(t,"k",function(){return E.d}),n.d(t,"m",function(){return E.e}),n.d(t,"G",function(){return E.h}),n.d(t,"H",function(){return E.j}),n.d(t,"R",function(){return E.n});var b=n(28);n.d(t,"p",function(){return b.a}),n.d(t,"x",function(){return b.d}),n.d(t,"I",function(){return b.g}),n.d(t,"J",function(){return b.j}),n.d(t,"K",function(){return b.m})},258:function(e,t,n){"use strict";var a=n(68),r=n(2),l=n.n(r),c=(n(19),n(117)),u=n.n(c),m=function(e){var t=e.children||null,n=e.tag;return l.a.createElement(n,{role:"status",className:u()({"spinner-border":"bordered"===e.type,"spinner-grow":"grow"===e.type},["text-".concat(e.color)],Object(a.a)({},"avatar-".concat(e.size),e.size),e.className)},t)};m.defaultProps={tag:"div",type:"bordered",color:"primary"},t.a=m}}]);
//# sourceMappingURL=97.dda3ea4e.chunk.js.map